<section class="text-gray-600 body-font">
  <div class="container px-5 py-24 mx-auto">
    <div class="flex flex-col w-full mb-20 text-center">
      <h1 class="mb-2 text-3xl font-medium text-gray-900 sm:text-4xl title-font">Orders page</h1>
    </div>
    @if(ordersCount()) {
    <div class="w-full mx-auto overflow-auto lg:w-2/3">

      <div class="flex justify-between">

        <div class="flex gap-6 py-4">
          <button (click)="applyFilter('pending')">
            <img src="../../../assets/svgs/pending.svg" alt="Filter Pending" class="w-6 h-6 hover:opacity-80" />
          </button>
          <button (click)="applyFilter('closed')">
            <img src="../../../assets/svgs/closed.svg" alt="Filter closed" class="w-6 h-6 hover:opacity-80" />
          </button>
          <button (click)="clearFilter()">
            <img src="../../../assets/svgs/clean-filter.svg" alt="Filter closed" class="w-6 h-6 hover:opacity-80" />
          </button>
        </div>
        <div class="flex p-2">
          <button (click)="clearOrders()"
            class="flex px-8 py-2 text-lg text-white bg-red-500 border-0 rounded focus:outline-none hover:bg-red-600">Clear
            all</button>
        </div>
      </div>

      <table class="w-full text-left whitespace-no-wrap table-auto">
        <thead>
          <tr>
            <th
              class="px-4 py-3 text-sm font-medium tracking-wider text-gray-900 bg-gray-100 rounded-tl rounded-bl title-font">
              Order NÂº</th>
            <th class="px-4 py-3 text-sm font-medium tracking-wider text-gray-900 bg-gray-100 title-font">Total</th>
            <th class="px-4 py-3 text-sm font-medium tracking-wider text-gray-900 bg-gray-100 title-font">Status</th>
            <th class="px-4 py-3 ml-auto text-sm font-medium tracking-wider text-gray-900 bg-gray-100 title-font text-center">
              Actions</th>
          </tr>
        </thead>
        <tbody>
          @for (item of filteredOrders(); track $index) {
          <tr>
            <td class="flex items-center ml-8 px-4 py-3">{{item.id}}</td>
            <td class="px-4 py-3 text-lg text-gray-900">{{item.totalAmount|
              currency:'BRL':'symbol'}}</td>

            @if(item.state === "closed"){
            <td class="ml-8 px-4 py-3">
              <img src="../../../assets/svgs/closed.svg" alt="Filter closed" class=" w-6 h-6 hover:opacity-80" />

            </td>
            }@else {
            <td class="ml-8 px-4 py-3">
              <img src="../../../assets/svgs/pending.svg" alt="Filter pending" class=" h-6 hover:opacity-80" />

            </td>
            }
            <td class="flex items-center h-full pt-4">
              @if(item.state === "closed"){
              <button (click)="removeOneOrder(item.id)"
                class="flex justify-center ml-7 px-2 text-white border-0 rounded focus:outline-none hover:bg-red-200">
                <img src="../../../assets/svgs/remove.svg" alt="Filter closed" class=" h-6 hover:opacity-80" />
              </button>
              }@else if(item.state === "pending") {
                <button (click)="removeOneOrder(item.id)"
                class="flex justify-center ml-7 px-2 text-white border-0 rounded focus:outline-none hover:bg-red-200">
                <img src="../../../assets/svgs/remove.svg" alt="Filter closed" class=" h-6 hover:opacity-80" />
              </button>
              <button (click)="onGoToCheckout(item.id)"
                class="flex justify-center ml-7 px-2 text-white  border-0 rounded focus:outline-none hover:bg-green-200">
                <img src="../../../assets/svgs/goto-checkout.svg" alt="Filter closed" class=" h-6 hover:opacity-80" />
              </button>
            }
            </td>
          </tr>
          }
        </tbody>
        <tfoot>
          <tr>
            <td colspan="4">
              <hr class="border-gray-900 border-t-1" />
            </td>
          </tr>
        </tfoot>
      </table>
    </div>
    <div class=" flex gap-8 justify-center w-full pl-4 mx-auto mt-4 lg:w-2/3">
      <button (click)="onContinue()"
        class="flex px-6 py-2 text-white bg-orange-500 border-0 rounded focus:outline-none hover:bg-orange-600">Go to
        shopping</button>
    </div>
    } @else {
    <div class="flex flex-col w-full mb-20 text-center">
      <h3 class="my-2 text-3xl font-medium text-gray-900 sm:text-4xl title-font">The orders is empty</h3>
    </div>
    }
  </div>
</section>
